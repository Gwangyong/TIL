# 2025.05.26(월) - Int(Character)가 안되는 이유, Shuffled() 문법
> **Status**: 🎯 **블로그 발행**
> **Blog**: [중복 없는 난수 생성. 근데 이제 Shuffled()를 곁들인..](https://jud00.tistory.com/entry/0526-%EC%9B%94-TIL)

> [숫자 야구 게임 Lv3까지 기능 구현 및 구조화 #3](https://github.com/418-Devs/Baseball-Game/pull/3) 
> 위의 주소는 오늘 개발작업 나간 코드를 PR올린 주소이다.

## Int(Character)은 안된다.

---

- Character는 단순히 **글자 하나**를 의미한다.
- Swift의 Int() 생성자는 **String 타입**만 받을 수 있기 때문에, Charater를 바로 넣으면 에러가 발생한다.
- 그래서, Character를 숫자로 바꾸려면 먼저 **String으로 감싼 뒤 Int로 변환**해야한다.

```swift
let c: Character = "5"

let n = Int(c)         // 컴파일 에러
let d = Int(String(c)) // OK

print(d)               // Optional(5)
print(type(of: d))     // Optional<Int>
```

- Optional은 어디서 나온거지? 타입에 `?`로 명시해주지 않았는데? 할 수 있다.
- Optional은 String → Int 변환 시점에 생긴다.
    - String은 숫자뿐만 아니라, 문자도 들어갈 수 있기 때문에
    - “5”같은 숫자는 가능하지만, “a”같은 문자는 불가능. 즉, **100%가 아니기 때문에 Optional**로 감싼다.

## shuffled(), shuffle()

---

- 위 주소의 코드에서 중복되지 않는 랜덤한 값을 만들때 사용하려고 공부하였다.
- `shuffled()`는 **원본을 유지하면서, 섞인 새로운 배열을 반환**하는 메서드이다.
- Array, Range, Set 등에서 사용이 가능하다.

```swift
let arr = [1, 2, 3]
let newArr = arr.shuffled()

print(arr) // [1, 2, 3] (원본 유지됨)
print(newArr) // [3, 1, 2] (섞인 결과)
```

- 반면에, `shuffle()`는 **원본 배열 자체를 섞는다.**

```swift
var arr = [1, 2, 3]
arr.shuffle()

print(arr) // [2, 3, 1]
```

## 중복 없는 난수 생성 (위 GitHub 주소에 있는 숫자 야구 예제)

---

- 원래는 아래처럼 중복이 발생할 수 있는 코드를 작성했었다

```swift
var randomValue = [Int](repeating: 0, count: 3)
for i in 0..<randomValue.coutn {
	randomValue[i] = Int.random(in: 1...9)
}
```

→ 이 방식은 `Int.random(in: )` 을 개별로 실행하기에 **중복된 값**이 나올 수 있다.

그렇기에 아래처럼 `shuffled()` + `prefix()`  조합을 사용하여 중복을 제거했다.

```swift
let randomValues = Array((1...9).shuffled().prefix(3))
```

- **1…9**: 1부터 9까지 배열 생성
- **shuffled()**: 섞음
- **prefix(3)**: 앞에서 3개 추출
- **Array(…)**: 다시 배열로 변환

→ 결과적으로는 **1~9 중 중복 없는 3개 숫자**를 얻을 수 있게된다.

- 아래는 0으로 시작하지 않는, 랜덤한 3자릿수를 만드는 코드 예제이다.

```swift
func makeAnswer() -> [Int] {
    let first = (1...9).shuffled().first!
    let rest = Array((0...9).filter { $0 != first }.shuffled())
    return [first] + rest.prefix(2)
}
```